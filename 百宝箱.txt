我的文档
新建文件时，默认自己是超级管理员权限
一键转交功能
复制当前用户文档，添加其他角色下复制文档数据
共享文档
一级目录
1、创建文档接口
新增文档数据，并且新增对文档的权限（可管理）
2、查询文档列表接口
查询对应的文档列表信息，和自己对列表中每个文档的操作权限
3、上传文档接口
新增文档数据，并且新增对文档的权限（可管理）
4、发送链接接口
生成url，发送给其他人
5、访问链接接口
校验自己对该文件是否有权限
6、添加权限
给个人、组织分配权限。对该文件添加对应的权限数据
7、删除权限
删除对应的权限。删除前校验是否是创建人，是的话，无法被修改
8、批量修改权限接口
9、重命名接口
权限校验，修改文件名称
10、删除接口
权限校验，删除文件及对应权限数据
11、移动文件
删除原文件及权限数据，新增新文件及权限数据
二级目录
1、查询接口
根据父文档id查询出对应列表文档，及自己对列表中文档的权限，同时查出自己对父文档的权限
2、创建文档接口
新增文档数据，添加一级目录创建人超级管理员权限。添加自己可管理权限数据
如果继承上级权限，其他人对上级文件的权限也会继承
一级目录其他人置为无权限
3、文件复制接口
在新目录添加文件数据，权限数据根据选择是否继承上级目录决定

组织、个人权限冲突，一个人权限为主




文档管理
脚本运维一位超级百宝箱管理员
管理员设置-只限超级管理员功能
1、组织文档管理员列表查询接口
2、组织人员、组织机构查询接口
3、组织机构插入接口
4、组织文档管理员删除接口
可见组织范围设置-超级管理员、组织管理员功能
1、可见组织列表查询接口
2、领导可见组织数据新增接口
3、领导可见组织数据更新接口
4、领导可见组织数据删除接口
5、可见组织列表导出接口
异动组织-对删除的组织下面归属的文件进行迁移；超级百宝箱管理员功能
1、异动组织查询接口
2、异动组织删除接口
3、异动组织下文档查询接口
4、批量移动异动组织下文件接口

组织文档
1、个人可见组织列表查询接口
2、组织下可见文档列表查询
3、组织文档上传接口
4、组织文档删除接口



利用ai大模型实现根据文件内容检索文件功能
上传文件接口
在用户上传完文件后，调用该接口。先根据文件id去数据库中拿到文件路径，然后根据文件路径去oss中拿到对应的文件。调用上传接口，将文件上传至知识库。(内部逻辑，利用ai将文件转换成向量，存储到向量数据库)
在这个步骤，传输文件给知识库时，会在文件名字前面拼接上文件id，以便查询时获取文件信息。

查询文件接口
在用户查询时，直接调用。根据用户输入文件内容，调用相关接口，返回匹配度最高的前10个文件，然后截取文件id去数据库中获取文件的相关信息。（内部逻辑，将文件内容转化为向量，和向量数据库中内容进行相似度匹配。）